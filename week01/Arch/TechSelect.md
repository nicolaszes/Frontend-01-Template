# Tech Select

### 框架 React，Vue & Angular

#### 服务范围（Scope）

作用域、框架的承诺功能范围、服务配套齐全程度。

提供的是一个工具库还是整体框架，插件管理是集中式还是依赖生态。

* React 是典型的小服务范围框架，核心包只实现了基本功能，而其他生态基本靠社区拓展；
* Angular 是典型大服务范围框架，官方对所有业务场景都做了最佳实践能力覆盖
* Vue 处在中间区域，通过功能分层，既拥有小服务范围的能力，又可以搭配官方插件实现更多场景化能力。

##### 小服务范围优势

* 概念少，易上手

* 生态繁荣，百花齐放

* 核心维护成本低

  官方可以将精力放在更多核心能力增强上，比如 Suspense 等，而不是将精力消耗在生态插件上。

##### 小服务范围的劣势

* 复杂场景要引入新概念
* 非官方的开发模式逐渐产生
* 生态变化快，碎片化且持续流失

##### 大服务范围的优势

* 大部分业务场景都被内置解决
* 生态稳定、连贯

##### 大服务范围的劣势

* 前期上手成本高
* 如果内置模块无法满足业务，会觉得有些死板

##### 中等服务范围的优势

* 分层设计，允许新特性渐进加入
* 低学习门槛
* 依然有最佳实践解决所有业务问题

##### 中等服务范围的劣势

* 维护成本高
* 生态多样性不高



#### 渲染机制

##### JSX的优势

* 纯 JS 表达 UI

  单这一点就非常重要了，满足了 All In Js 的幻想。毕竟 Html、Css 相比 Js 来说，模块化能力和灵活性都很弱，将其都收敛到 Js 不仅表达方式更统一，更重要的是都获得了与 Js 一样的模块化、灵活性、Typescript 支持等能力。

* 视图即数据

  将视图看作一种数据，让针对视图的逻辑测试成为可能。

  同时也将视图概念泛化了，因为数据是平台无关的，一份描述视图的 DSL 可以运行在任何平台。

##### JSX的劣势

* 开销大

  页面节点越多，Diff 开销就越大。

* 动态渲染很难性能优化

  由于所有 DOM 节点都是动态生成，因此无法根据初始状态结构进行安全的优化。相比之下，Template 模式可以确定哪部分属于变量，哪部分是固定的，对固定部分的 Diff 检测都可以跳过。

* 动态调度虽然改善了性能，但依赖更重的运行时

  React ConcurrentMode 是一个调度优化器，但实现的逻辑也比较复杂，加重了运行时负担。

##### Template的优势

* 原生性能
* Runtime 更小

##### Template的劣势

* 被 Template 语法约束，且无法拓展
* 模版冗长
* 运行时解析开销或者依赖编译期逻辑



#### 状态机制

- Mutable vs Immutable
- 依赖追踪 vs 脏检测
- 响应式 vs 模拟响应式
